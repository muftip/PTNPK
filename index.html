<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <!-- Favicon untuk judul website -->
    <link rel="icon" href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üè¢</text></svg>">
    
    <!-- Memanggil file Style.html menggunakan scriptlet Apps Script -->
    <!-- File ini berisi semua CSS. File ini akan disertakan dalam tag <head> dari Index.html -->
<style>
    @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');

    :root {
        /* Default Theme Colors */
        --primary-color: #007bff; /* Used for links, read more, modal titles */
        --secondary-color: #6c757d; /* Used for layout buttons */
        --background-color: #f8f9fa; /* Main body background */
        --text-color: #212529; /* Main text color */
        --header-bg-start: #0056b3;
        --header-bg-end: #007bff;
        --card-base-bg: #fff; /* Base for post and aside cards */
        --post-border-color: #e9ecef;
        --post-meta-border-color: #dee2e6;
        --jasa-card-h3-border-color: rgba(0,0,0,0.1);
        --footer-bg: #343a40;
        --footer-text-color: #e9ecef;

        /* Slider Card Specific Colors (light variations) */
        --slider-card-1-bg: #e6f7ff; /* Light Blue */
        --slider-card-2-bg: #e6ffe6; /* Light Green */
        --slider-card-3-bg: #fffbe6; /* Light Yellow */
        --slider-card-4-bg: #f2e6ff; /* Light Purple */
        --slider-card-5-bg: #ffe6f2; /* Light Pink */
        --slider-card-6-bg: #e0f2f7; /* Light Cyan */
        --slider-card-7-bg: #f0fff0; /* Light Mint */
        --slider-card-8-bg: #fff0e0; /* Light Peach */
        --slider-card-9-bg: #e6e6fa; /* Lavender */
    }

    body {
        font-family: 'Inter', sans-serif;
        line-height: 1.6;
        margin: 0;
        background-color: var(--background-color);
        color: var(--text-color);
        display: flex;
        flex-direction: column;
        min-height: 100vh;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
    }

    /* Header dengan Navbar */
    header {
        background: linear-gradient(to right, var(--header-bg-start), var(--header-bg-end));
        color: #fff;
        padding: 1.5rem 0;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        position: sticky;
        top: 0;
        z-index: 1000;
    }

    .navbar-container {
        max-width: 1200px;
        margin: 0 auto;
        padding: 0 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        flex-wrap: wrap;
        gap: 15px;
    }

    .blog-brand {
        flex-grow: 1;
        display: flex;
        align-items: center; /* Pusatkan secara vertikal */
        gap: 10px; /* Spasi antara ikon dan judul */
    }

    .blog-brand h1 {
        font-size: 2.2rem;
        margin: 0;
        font-weight: 700;
        display: flex; /* Make h1 a flex container to stack title and tagline */
        flex-direction: column; /* Stack items vertically */
        align-items: flex-start; /* Align text to the start */
    }

    .blog-brand h1 small { /* Styling for the tagline inside h1 */
        font-size: 0.9rem;
        opacity: 0.8;
        margin-top: 5px; /* Add margin to separate from main title */
        color: inherit; /* Inherit color from h1 */
    }

    .blog-brand .icon {
        width: 40px; /* Dibuat lebih besar */
        height: 40px; /* Dibuat lebih besar */
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    /* Tombol Aksi di Navbar (Tambah Postingan & Tata Letak & Warna) */
    .navbar-actions {
        display: flex;
        gap: 15px;
        flex-wrap: wrap;
        justify-content: flex-end;
    }

    .navbar-actions button {
        background-color: var(--primary-color);
        color: white;
        padding: 10px 20px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 0.95rem;
        font-weight: 600;
        transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        display: flex;
        align-items: center;
        gap: 8px;
    }

    .navbar-actions button.layout-toggle-btn {
         background-color: var(--secondary-color); /* Warna abu-abu untuk tombol tata letak */
    }
    .navbar-actions button.color-settings-btn {
        background-color: #8c00b3; /* Warna ungu untuk pengaturan warna */
    }
    .navbar-actions button.admin-btn {
        background-color: #ffc107; /* Warna kuning untuk tombol admin */
        color: #212529;
    }
    .navbar-actions button.admin-btn:hover {
        background-color: #e0a800; /* Darker yellow on hover */
    }


    .navbar-actions button:hover {
        background-color: #218838; /* Default for add post */
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }
    .navbar-actions button.layout-toggle-btn:hover {
        background-color: #5a6268;
    }
    .navbar-actions button.color-settings-btn:hover {
        background-color: #6a008a;
    }


    /* Bagian Slider Jasa Kami */
    .services-slider-container {
        width: 100%;
        max-width: 1200px;
        margin: 30px auto 0;
        padding: 0 20px;
        box-sizing: border-box;
        position: relative; /* Added for slider nav buttons positioning */
    }

    .services-slider-container h2 {
        font-size: 2.2rem;
        color: var(--text-color);
        text-align: center;
        margin-bottom: 25px;
        padding-bottom: 15px;
        border-bottom: 3px solid var(--post-border-color);
        font-weight: bold;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
    }
    .services-slider-container h2 .icon {
        width: 35px; /* Dibuat lebih besar */
        height: 35px; /* Dibuat lebih besar */
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    /* New: Date and Time Card */
    .datetime-card {
        background-color: var(--primary-color);
        color: white;
        padding: 15px 25px;
        border-radius: 12px;
        text-align: center;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 20px; /* Adjusted margin for running text */
        box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        gap: 5px;
    }
    .datetime-card .date-text {
        font-size: 1.1em;
        white-space: nowrap; /* Prevent wrapping for date */
    }
    .datetime-card .time-text {
        font-size: 1.5em;
        font-weight: 700;
        white-space: nowrap; /* Prevent wrapping for time */
    }

    /* New: Running Text Card */
    .running-text-card {
        background-color: var(--primary-color); /* Changed to primary color (blue) */
        color: white;
        padding: 10px 20px;
        border-radius: 12px;
        margin-bottom: 30px; /* Space between running text and services header */
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
        overflow: hidden; /* Hide overflowing content */
        white-space: nowrap; /* Keep content in a single line */
        position: relative;
    }

    .running-text-content {
        display: inline-block; /* Allow content to be wider than container */
        padding-left: 100%; /* Start text off-screen to the right */
        animation: marquee 25s linear infinite; /* Adjust duration as needed */
    }

    @keyframes marquee {
        0%   { transform: translateX(0%); }
        100% { transform: translateX(-100%); }
    }


    .slider-track {
        display: flex;
        overflow-x: auto;
        scroll-snap-type: x mandatory;
        -webkit-overflow-scrolling: touch;
        padding-bottom: 20px;
        gap: 20px;
        margin: 0 -20px;
        padding: 0 20px 20px;
        position: relative; /* Ensure children are positioned relative to this */
        scroll-behavior: smooth; /* Smooth scrolling for navigation */
    }

    /* Menyembunyikan scrollbar namun tetap dapat digulir */
    .slider-track::-webkit-scrollbar {
        height: 8px;
        background-color: #f1f1f1;
        border-radius: 10px;
    }
    .slider-track::-webkit-scrollbar-thumb {
        background-color: var(--secondary-color);
        border-radius: 10px;
        border: 2px solid #f1f1f1;
    }
    .slider-track::-webkit-scrollbar-thumb:hover {
        background-color: #a7b7c7;
    }

    .slider-card {
        flex-shrink: 0;
        width: 300px;
        background-color: var(--card-base-bg);
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        padding: 25px;
        scroll-snap-align: start;
        transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease;
        display: flex; /* Added for internal layout */
        flex-direction: column; /* Added for internal layout */
        justify-content: space-between; /* Push content and button apart */
    }

    /* Warna untuk setiap kartu jasa */
    .slider-card:nth-child(1) { background-color: var(--slider-card-1-bg); }
    .slider-card:nth-child(2) { background-color: var(--slider-card-2-bg); }
    .slider-card:nth-child(3) { background-color: var(--slider-card-3-bg); }
    .slider-card:nth-child(4) { background-color: var(--slider-card-4-bg); }
    .slider-card:nth-child(5) { background-color: var(--slider-card-5-bg); }
    .slider-card:nth-child(6) { background-color: var(--slider-card-6-bg); }
    .slider-card:nth-child(7) { background-color: var(--slider-card-7-bg); }
    .slider-card:nth-child(8) { background-color: var(--slider-card-8-bg); }
    .slider-card:nth-child(9) { background-color: var(--slider-card-9-bg); }


    .slider-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    }

    .slider-card h3 {
        color: var(--primary-color);
        font-size: 1.4rem;
        margin-bottom: 15px;
        font-weight: 600;
        border-bottom: 1px dashed var(--jasa-card-h3-border-color);
        padding-bottom: 10px;
        display: flex; /* Untuk menempatkan ikon di samping teks */
        align-items: center;
        gap: 8px; /* Spasi antara ikon dan teks */
    }
    .slider-card h3 .icon {
        width: 28px; /* Dibuat lebih besar */
        height: 28px; /* Dibuat lebih besar */
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    .slider-card ul {
        list-style: none;
        padding: 0;
        margin: 0 0 20px 0; /* Add margin-bottom for button spacing */
        flex-grow: 1; /* Allow list to take available space */
    }

    .slider-card ul li {
        margin-bottom: 8px;
        color: var(--text-color);
        position: relative;
        padding-left: 20px;
    }

    .slider-card ul li::before {
        content: '‚Ä¢';
        color: var(--primary-color);
        font-size: 1em;
        position: absolute;
        left: 0;
        top: 0;
    }

    /* WhatsApp Button for Slider Cards */
    .whatsapp-btn {
        background-color: #25D366; /* WhatsApp green */
        color: white;
        padding: 10px 15px;
        border: none;
        border-radius: 25px;
        cursor: pointer;
        font-size: 0.9rem;
        font-weight: 600;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        width: 100%; /* Make button full width of card */
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        transition: background-color 0.3s ease, transform 0.2s ease, box-shadow 0.3s ease;
    }

    .whatsapp-btn:hover {
        background-color: #1DA851; /* Darker green on hover */
        transform: translateY(-2px);
        box-shadow: 0 6px 12px rgba(0,0,0,0.3);
    }

    .whatsapp-btn .icon {
        width: 20px;
        height: 20px;
        fill: white; /* Ensure SVG icon is white */
        stroke: none;
    }


    /* Slider Navigation Buttons */
    .slider-nav-btn {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        background-color: rgba(0,0,0,0.5);
        color: white;
        border: none;
        border-radius: 50%;
        width: 40px;
        height: 40px;
        font-size: 1.5rem;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        z-index: 10;
        transition: background-color 0.3s ease;
    }

    .slider-nav-btn:hover {
        background-color: rgba(0,0,0,0.7);
    }

    .slider-nav-btn.prev {
        left: 0px; /* Position relative to .services-slider-container */
    }

    .slider-nav-btn.next {
        right: 0px; /* Position relative to .services-slider-container */
    }


    main {
        display: flex;
        flex-wrap: wrap;
        max-width: 1200px;
        margin: 30px auto;
        padding: 0 20px;
        flex-grow: 1;
    }

    #posts-section {
        background: var(--card-base-bg);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        display: flex;
        flex-direction: column;
        gap: 25px;
        transition: flex 0.3s ease-in-out, margin-right 0.3s ease-in-out;
    }

    /* Default layout: posts 3, aside 1 */
    #posts-section.layout-standard {
        flex: 3;
        margin-right: 30px;
    }

    /* Wide layout: posts 5, aside 1 (or hide aside) */
    #posts-section.layout-wide {
        flex: 5;
        margin-right: 20px;
    }

    .post {
        border: 1px solid var(--post-border-color);
        padding: 25px;
        border-radius: 10px;
        background-color: var(--card-base-bg); /* Use base card background */
        transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        position: relative;
        padding-top: 50px; /* Tambahkan padding untuk memberi ruang pada kartu tanggal */
    }

    .post:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 25px rgba(0,0,0,0.12);
    }

    /* Gaya untuk kartu tanggal di setiap postingan */
    .post-date-card {
        position: absolute;
        top: 0;
        right: 0;
        background-color: var(--primary-color); /* Menggunakan warna tema utama */
        color: white;
        padding: 10px 15px;
        border-top-right-radius: 10px;
        border-bottom-left-radius: 10px;
        text-align: center;
        font-weight: bold;
        line-height: 1.2;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-width: 70px;
        min-height: 70px;
    }

    .post-date-card .day {
        font-size: 2.5rem; /* Dibuat lebih besar */
        line-height: 1;
    }

    .post-date-card .month-year {
        font-size: 0.9rem; /* Dibuat sedikit lebih besar */
        text-transform: uppercase;
        line-height: 1;
    }

    .post h3 {
        color: var(--primary-color);
        font-size: 1.8rem;
        margin-bottom: 10px;
        font-weight: 600;
    }

    .post-meta {
        font-size: 0.85em;
        color: var(--secondary-color);
        margin-bottom: 15px;
        border-bottom: 1px solid var(--post-meta-border-color);
        padding-bottom: 10px;
    }

    .post p {
        margin: 0;
        color: var(--text-color);
        line-height: 1.7;
    }

    .post-actions {
        margin-top: 15px;
        display: flex;
        gap: 10px;
        justify-content: flex-end; /* Align buttons to the right */
    }

    .post-actions button {
        padding: 8px 15px;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: background-color 0.2s ease-in-out;
    }

    .read-more-btn {
        background-color: var(--primary-color);
        color: white;
    }

    .read-more-btn:hover {
        background-color: #0056b3;
    }

    .edit-post-btn {
        background-color: #ffc107; /* Yellow for edit */
        color: #212529;
    }

    .edit-post-btn:hover {
        background-color: #e0a800;
    }


    aside {
        background: var(--card-base-bg);
        padding: 25px;
        border-radius: 12px;
        box-shadow: 0 6px 20px rgba(0,0,0,0.08);
        display: flex;
        flex-direction: column;
        gap: 20px;
        transition: flex 0.3s ease-in-out, margin-left 0.3s ease-in-out;
    }

    /* Default layout: posts 3, aside 1 */
    aside.layout-standard {
        flex: 1;
        margin-left: 30px;
    }

    /* Wide layout: posts 5, aside 1 (or hide aside) */
    aside.layout-wide {
        flex: 1;
        margin-left: 20px;
        /* Opsional: Untuk menyembunyikan sidebar sepenuhnya di layout lebar, uncomment baris di bawah ini */
        /* display: none; */
    }

    aside h2 {
        color: var(--text-color);
        font-size: 1.5rem;
        margin-bottom: 15px;
        border-bottom: 2px solid var(--post-border-color);
        padding-bottom: 10px;
        font-weight: 600;
        display: flex; /* Untuk menempatkan ikon di samping teks */
        align-items: center;
        gap: 8px; /* Spasi antara ikon dan teks */
    }
    aside h2 .icon {
        width: 28px; /* Dibuat lebih besar */
        height: 28px; /* Dibuat lebih besar */
        fill: none;
        stroke: currentColor;
        stroke-width: 2;
        stroke-linecap: round;
        stroke-linejoin: round;
    }

    aside ul {
        list-style: none;
        padding: 0;
        margin-bottom: 20px;
    }

    aside li {
        margin-bottom: 8px;
    }

    aside li a {
        text-decoration: none;
        color: var(--primary-color);
        display: block;
        padding: 8px 12px;
        border-radius: 8px;
        transition: background-color 0.2s ease-in-out;
    }

    aside li a:hover {
        background-color: var(--post-border-color); /* Lighter version of a border color */
    }
    aside li a .category-count {
        float: right;
        background-color: var(--secondary-color);
        color: white;
        padding: 2px 8px;
        border-radius: 10px;
        font-size: 0.8em;
    }

    /* Modal Gaya untuk menampilkan postingan lengkap */
    .modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6); /* Overlay gelap */
        display: none; /* Changed from flex to none initially */
        justify-content: center;
        align-items: center;
        z-index: 2000; /* Di atas semua elemen lain */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    .modal-overlay.active {
        opacity: 1;
        visibility: visible;
        display: flex; /* Ensure it becomes flex when active */
    }

    .modal-content {
        background-color: var(--card-base-bg);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        width: 90%;
        max-width: 700px; /* Lebar maksimal modal */
        max-height: 80vh; /* Tinggi maksimal modal */
        overflow-y: auto; /* Gulir jika konten terlalu panjang */
        position: relative;
        transform: translateY(20px);
        opacity: 0;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }

    .modal-overlay.active .modal-content {
        transform: translateY(0);
        opacity: 1;
    }

    .modal-header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 20px;
        border-bottom: 1px solid var(--post-border-color);
        padding-bottom: 10px;
        position: relative; /* Untuk posisi kartu tanggal di modal */
        padding-right: 80px; /* Beri ruang untuk kartu tanggal */
    }

    /* Gaya untuk kartu tanggal di dalam modal */
    .modal-header .post-date-card {
        position: absolute;
        top: 0;
        right: 0;
        background-color: var(--primary-color);
        color: white;
        padding: 10px 15px;
        border-top-right-radius: 10px;
        border-bottom-left-radius: 10px;
        text-align: center;
        font-weight: bold;
        line-height: 1.2;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        min-width: 70px;
        min-height: 70px;
    }

    .modal-header .post-date-card .day {
        font-size: 2.5rem; /* Dibuat lebih besar */
        line-height: 1;
    }

    .modal-header .post-date-card .month-year {
        font-size: 0.9rem; /* Dibuat sedikit lebih besar */
        text-transform: uppercase;
        line-height: 1;
    }


    .modal-header h3 {
        margin: 0;
        color: var(--primary-color);
        font-size: 2rem;
        font-weight: 700;
        max-width: calc(100% - 90px); /* Pastikan judul tidak tumpang tindih dengan kartu tanggal */
    }

    .modal-close-btn {
        background: none;
        border: none;
        font-size: 2rem;
        color: var(--secondary-color);
        cursor: pointer;
        line-height: 1;
        transition: color 0.2s ease;
        position: absolute; /* Posisikan tombol tutup secara absolut */
        top: 10px;
        right: 10px;
        z-index: 1; /* Pastikan di atas kartu tanggal jika tumpang tindih */
    }

    .modal-close-btn:hover {
        color: var(--text-color);
    }

    .modal-body p {
        color: var(--text-color);
        line-height: 1.8;
        white-space: pre-wrap; /* Mempertahankan spasi dan baris baru dari textarea */
        text-align: justify; /* Teks rata kanan-kiri */
    }

    .modal-meta {
        font-size: 0.9em;
        color: var(--secondary-color);
        margin-top: 15px;
        padding-top: 10px;
        border-top: 1px dashed var(--post-border-color);
    }

    /* Specific modal content for edit-running-text-modal */
    #edit-running-text-modal-content {
        background-color: var(--card-base-bg);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        width: 90%;
        max-width: 600px;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        transform: translateY(20px);
        opacity: 0;
        transition: transform 0.3s ease, opacity 0.3s ease;
    }

    #edit-running-text-modal-overlay.active #edit-running-text-modal-content {
        transform: translateY(0);
        opacity: 1;
    }


    #add-post-modal-content h2, #login-modal-content h2, #add-user-modal-content h2, #edit-running-text-modal-content h2 {
        color: var(--text-color);
        font-size: 2rem;
        margin-bottom: 25px;
        text-align: center;
        font-weight: 700;
    }

    #add-post-modal-content label, #login-modal-content label, #add-user-modal-content label, #edit-running-text-modal-content label {
        display: block;
        margin-bottom: 8px;
        font-weight: bold;
        color: var(--text-color);
    }

    #add-post-modal-content input[type="text"],
    #add-post-modal-content input[type="date"],
    #add-post-modal-content textarea,
    #login-modal-content input[type="text"],
    #login-modal-content input[type="password"],
    #add-user-modal-content input[type="text"],
    #add-user-modal-content input[type="password"],
    #edit-running-text-modal-content textarea {
        width: calc(100% - 22px);
        padding: 12px;
        margin-bottom: 20px;
        border: 1px solid var(--post-border-color);
        border-radius: 8px;
        font-size: 1rem;
        box-sizing: border-box;
        transition: border-color 0.2s ease, box-shadow 0.2s ease;
    }

    #add-post-modal-content input[type="text"]:focus,
    #add-post-modal-content input[type="date"]:focus,
    #add-post-modal-content textarea:focus,
    #login-modal-content input[type="text"]:focus,
    #login-modal-content input[type="password"]:focus,
    #add-user-modal-content input[type="text"]:focus,
    #add-user-modal-content input[type="password"]:focus,
    #edit-running-text-modal-content textarea:focus {
        border-color: var(--primary-color);
        box-shadow: 0 0 0 0.2rem rgba(0,123,255,.25);
        outline: none;
    }

    #add-post-modal-content textarea, #edit-running-text-modal-content textarea {
        resize: vertical;
        min-height: 150px;
    }

    #add-post-modal-content button[type="submit"],
    #login-modal-content button[type="submit"],
    #add-user-modal-content button[type="submit"],
    #edit-running-text-modal-content button[type="submit"] {
        background-color: var(--primary-color);
        color: white;
        padding: 12px 25px;
        border: none;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1.1rem;
        font-weight: 600;
        transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        display: block;
        width: 100%;
    }

    #add-post-modal-content button[type="submit"]:hover,
    #login-modal-content button[type="submit"]:hover,
    #add-user-modal-content button[type="submit"]:hover,
    #edit-running-text-modal-content button[type="submit"]:hover {
        background-color: #0056b3;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
    }

    /* Color Settings Modal */
    #color-settings-modal-overlay {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.6);
        display: none; /* Changed from flex to none initially */
        justify-content: center;
        align-items: center;
        z-index: 2002; /* Highest z-index */
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease, visibility 0.3s ease;
    }

    #color-settings-modal-overlay.active {
        opacity: 1;
        visibility: visible;
        display: flex; /* Ensure it becomes flex when active */
    }

    #color-settings-modal-content {
        background-color: var(--card-base-bg);
        padding: 30px;
        border-radius: 12px;
        box-shadow: 0 8px 30px rgba(0, 0, 0, 0.2);
        width: 90%;
        max-width: 500px;
        max-height: 90vh;
        overflow-y: auto;
        position: relative;
        transform: translateY(20px);
        opacity: 0;
        transition: transform 0.3s ease, opacity 0.3s ease;
        text-align: center;
    }

    #color-settings-modal-overlay.active #color-settings-modal-content {
        transform: translateY(0);
        opacity: 1;
    }

    #color-settings-modal-content h2 {
        color: var(--text-color);
        font-size: 2rem;
        margin-bottom: 25px;
        text-align: center;
        font-weight: 700;
        border-bottom: 1px solid var(--post-border-color);
        padding-bottom: 10px;
    }

    .theme-options {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
    }

    .theme-button {
        padding: 12px 20px;
        border: 2px solid transparent;
        border-radius: 8px;
        cursor: pointer;
        font-size: 1rem;
        font-weight: 500;
        transition: all 0.2s ease;
        color: white;
        box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }

    .theme-button:hover {
        transform: translateY(-2px);
        box-shadow: 0 4px 10px rgba(0,0,0,0.15);
    }

    /* Specific Theme Button Styles */
    .theme-button.default-theme { background-color: #007bff; }
    .theme-button.default-theme:hover { background-color: #0056b3; }
    .theme-button.dark-theme { background-color: #343a40; }
    .theme-button.dark-theme:hover { background-color: #23272b; }
    .theme-button.green-theme { background-color: #28a745; }
    .theme-button.green-theme:hover { background-color: #218838; }
    .theme-button.purple-theme { background-color: #6f42c1; }
    .theme-button.purple-theme:hover { background-color: #563d7c; }

    /* Responsive for smaller screens */
    @media (max-width: 992px) {
        #posts-section {
            margin-right: 0;
            margin-bottom: 30px;
            flex: 1 1 100%;
        }

        aside {
            margin-left: 0;
            margin-top: 30px;
            flex: 1 1 100%;
        }

        .navbar-container {
            flex-direction: column;
            gap: 15px;
        }

        .blog-brand h1 {
            font-size: 2rem;
        }

        .navbar-actions {
            width: 100%;
            justify-content: center;
        }

        .navbar-actions button {
            width: calc(50% - 7.5px);
        }
        #new-post-form {
            margin-left: 0;
            margin-right: 0;
        }

        .services-slider-container {
            padding: 0 15px;
            margin-top: 20px;
        }

        .slider-card {
            width: 280px;
        }

        .slider-nav-btn {
            top: 50%;
            transform: translateY(-50%);
            width: 35px;
            height: 35px;
            font-size: 1.2rem;
        }
    }

    @media (max-width: 768px) {
        main {
            flex-direction: column;
            padding: 0 15px;
        }

        .slider-card {
            width: 90%;
            margin: 0 auto;
        }
        .slider-track {
            flex-wrap: wrap;
            justify-content: center;
            scroll-snap-type: none;
        }

        .modal-content, #add-post-modal-content, #color-settings-modal-content, #login-modal-content, #add-user-modal-content, #edit-running-text-modal-content {
            width: 95%;
            padding: 20px;
        }

        .modal-header h3 {
            font-size: 1.5rem;
        }

        .modal-close-btn {
            font-size: 1.8rem;
        }

        .theme-button {
            width: calc(50% - 10px); /* Two buttons per row */
            box-sizing: border-box;
        }
    }
    /* Footer Styling */
    footer {
        background-color: var(--footer-bg);
        color: var(--footer-text-color);
        text-align: center; /* Centered text */
        padding: 1.5rem 20px;
        margin-top: auto; /* Push footer to the bottom */
        box-shadow: 0 -4px 12px rgba(0,0,0,0.15);
    }

    footer p {
        margin: 0;
        font-size: 0.9rem;
    }
</style>
</head>
<body>
    <!-- Header dengan Navbar -->
    <header>
        <div class="navbar-container">
            <div class="blog-brand">
                <!-- Icon untuk judul website -->
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M22 19V3H2v16H0v2h24v-2h-2zm-10 0H4V5h8v14zm8 0h-6V5h6v14z"/></svg>
                <h1>
                    PT. Nusantara Project Konsultan
                    <small>Kami melayani berbagai jasa dan konsultasi</small>
                </h1>
            </div>
            <!-- Tombol untuk menambahkan postingan baru dan pengaturan tata letak di dalam navbar -->
            <div class="navbar-actions">
                <button id="add-post-btn" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-plus-circle"><circle cx="12" cy="12" r="10"/><path d="M8 12h8"/><path d="M12 8v8"/></svg>
                    Tambah Postingan
                </button>
                <button id="add-user-btn" class="admin-btn" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-plus"><path d="M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2"/><circle cx="9" cy="7" r="4"/><line x1="19" x2="19" y1="8" y2="14"/><line x1="22" x2="16" y1="11" y2="11"/></svg>
                    Tambah Anggota User
                </button>
                
                <button id="edit-running-text-btn" class="admin-btn" style="display: none;">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-edit"><path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/></svg>
                    Edit Teks Berjalan
                </button>
                
                <button id="layout-toggle-btn" class="layout-toggle-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-layout-panel-left"><rect width="7" height="18" x="3" y="3" rx="2" ry="2"/><rect width="10" height="18" x="11" y="3" rx="2" ry="2"/></svg>
                    <span id="layout-btn-text">Ubah Tata Letak</span>
                </button>
                <button id="color-settings-btn" class="color-settings-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-palette"><circle cx="12" cy="12" r="10"/><path d="M12 6V4"/><path d="M12 20V18"/><path d="M6 12H4"/><path d="M20 12H18"/><path d="M9.4 15.6a6 6 0 0 0 5.2 0"/><path d="M15.6 9.4a6 6 0 0 0-5.2 0"/></svg>
                    Pengaturan Warna
                </button>
                <button id="admin-login-btn" class="admin-btn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-user-cog"><circle cx="12" cy="7" r="4"/><path d="M12 15h.01"/><path d="M19 17v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><path d="M22 22l-1.5-1.5"/><path d="M21 13.5V10h-2.5L16 8.5 13.5 10H11v2.5L12.5 15 11 17.5V20h2.5L16 21.5 18.5 20H21v-2.5L22 15z"/></svg>
                    <span>Administrator</span>
                </button>
            </div>
        </div>
    </header>

    <!-- Bagian Slider Jenis-Jenis Jasa Kami -->
    <section class="services-slider-container">
        <!-- New: Date and Time Card -->
        <div class="datetime-card">
            <span id="current-date-time" class="date-text"></span>
            <span id="current-time" class="time-text"></span>
        </div>

        <!-- New: Running Text Card -->
        <div class="running-text-card">
            <div id="running-text-content" class="running-text-content">
                PT. Nusantara Project Konsultan | Melayani dengan Profesional dan Terpercaya | Kami Melayani Berbagai Jasa dan Konsultasi
            </div>
        </div>

        <h2>
            <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M16 20h2a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2h-2"/><path d="M12 16V8"/><path d="M12 20h-2a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M9 20V4"/><path d="M15 20V4"/></svg>
            Jenis-Jenis Jasa Kami
        </h2>
        <button class="slider-nav-btn prev" id="slider-prev-btn">&#10094;</button>
        <div class="slider-track" id="services-slider-track">
            <!-- Jasa Konsultasi Organisasi dan Kepemimpinan -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><circle cx="12" cy="8" r="5"/><path d="M20 21a8 8 0 0 0-16 0"/></svg>
                    Konsultasi Organisasi dan Kepemimpinan
                </h3>
                <ul>
                    <li>Penyusunan AD/ART koperasi</li>
                    <li>Pembentukan dan penguatan struktur organisasi</li>
                    <li>Konsultasi legalitas dan badan hukum koperasi</li>
                    <li>Fasilitasi Rapat Anggota Tahunan (RAT)</li>
                    <li>Pelatihan kepemimpinan koperasi (pengurus & pengawas)</li>
                    <li>Manajemen konflik internal koperasi</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Konsultasi Organisasi dan Kepemimpinan">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Konsultasi Keuangan dan Administrasi -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 6H8a2 2 0 0 0-2 2v10a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2z"/><path d="M2 12V8a2 2 0 0 1 2-2h1.5a.5.5 0 0 0 0-1H4a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h1.5a.5.5 0 0 0 0-1H4a2 2 0 0 1-2-2z"/><path d="M12 12H8"/><path d="M16 16v-1.5a2.5 2.5 0 0 0-5 0V16"/></svg>
                    Konsultasi Keuangan dan Administrasi
                </h3>
                <ul>
                    <li>Pelatihan akuntansi koperasi</li>
                    <li>Penyusunan laporan keuangan koperasi (bulanan/tahunan)</li>
                    <li>Audit internal koperasi</li>
                    <li>RAB dan rencana bisnis koperasi</li>
                    <li>Konsultasi pengelolaan SHU dan simpan pinjam</li>
                    <li>Optimalisasi pajak dan NPWP koperasi</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Konsultasi Keuangan dan Administrasi">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Digitalisasi dan Teknologi Informasi -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="16 18 22 12 16 6"/><polyline points="8 6 2 12 8 18"/><line x1="14" x2="10" y1="4" y2="20"/></svg>
                    Digitalisasi dan Teknologi Informasi
                </h3>
                <ul>
                    <li>Pembuatan sistem informasi koperasi (keuangan, inventaris, anggota)</li>
                    <li>Desain aplikasi atau website koperasi</li>
                    <li>Pelatihan digital literacy untuk pengurus dan anggota koperasi</li>
                    <li>Integrasi sistem koperasi dengan database nasional (SIKOPDIT, dll.)</li>
                    <li>Jasa desain dan branding digital</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Digitalisasi dan Teknologi Informasi">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Pemasaran dan Pengembangan Usaha -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><polyline points="22 12 18 12 15 21 9 3 6 12 2 12"/></svg>
                    Pemasaran dan Pengembangan Usaha
                </h3>
                <ul>
                    <li>Pengembangan model bisnis koperasi (canvas, lean startup)</li>
                    <li>Konsultasi branding produk koperasi</li>
                    <li>Riset pasar dan pengembangan produk</li>
                    <li>Manajemen marketplace (Shopee, Tokopedia, TikTok Shop, dll.)</li>
                    <li>Pelatihan pemasaran digital & media sosial</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Pemasaran dan Pengembangan Usaha">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Sektor Riil (untuk koperasi produksi dan pertanian) -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M11 20A7 7 0 0 1 9.8 6.1C15.5 5 21 2 22 8a7 7 0 0 1-7 7.9H11v4z"/><path d="M17 19c-1.29-0.06-2.64-0.15-3.8-0.2c-3.35-0.14-6.66-0.62-9.4-1.75c-2.96-1.22-3.8-3.15-2.7-5.5s3.5-3.5 6.4-4.2c2.9-0.7 7.5-1 10.9-0.25c-0.2 1.3-0.5 2.5-0.9 3.4c-1.34 3-4.2 4.6-8.9 4.8"/></svg>
                    Jasa Sektor Riil
                </h3>
                <ul>
                    <li>Konsultasi agroekologi atau pertanian regenerative</li>
                    <li>Manajemen rantai pasok</li>
                    <li>Pengolahan hasil pertanian dan pengemasan produk</li>
                    <li>Perencanaan kawasan pangan koperasi</li>
                    <li>Sertifikasi organik atau PIRT</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Jasa Sektor Riil">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Pendidikan dan Pemberdayaan -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"/><path d="M18 5.5H6.5A2.5 2.5 0 0 0 4 8v11.5"/></svg>
                    Pendidikan dan Pemberdayaan
                </h3>
                <ul>
                    <li>Fasilitasi Sekolah Koperasi</li>
                    <li>Pelatihan kader koperasi muda</li>
                    <li>Workshop kesadaran kritis & literasi koperasi</li>
                    <li>Produksi modul pelatihan & materi edukasi koperasi</li>
                    <li>Pelatihan gender dan keadilan sosial dalam koperasi</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Pendidikan dan Pemberdayaan">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Riset dan Pengembangan -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1.3.5 2.6 1.5 3.5.8.8 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
                    Riset dan Pengembangan
                </h3>
                <ul>
                    <li>Studi kelayakan unit usaha koperasi</li>
                    <li>Survey anggota dan kebutuhan komunitas</li>
                    <li>Riset dampak sosial koperasi</li>
                    <li>Monitoring dan evaluasi program koperasi</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Riset dan Pengembangan">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Advokasi dan Hukum -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 21H3V8h18V13"/><path d="M3 4V2h18v2"/><path d="M9 20V16H3v4"/><path d="M15 20V16h-6v4"/><path d="M21 20V16h-6v4"/><path d="M16 11l4 4-4 4"/></svg>
                    Advokasi dan Hukum
                </h3>
                <ul>
                    <li>Pendampingan hukum koperasi dalam konflik usaha atau anggota</li>
                    <li>Konsultasi perizinan dan hukum perdata koperasi</li>
                    <li>Advokasi koperasi terhadap regulasi dan kebijakan daerah</li>
                    <li>Pelatihan paralegal koperasi</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Advokasi dan Hukum">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>

            <!-- Jasa Kreatif dan Dokumentasi -->
            <div class="slider-card">
                <h3>
                    <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M14.5 4H10l-3 6L2 15v5a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V7.5L14.5 4z"/></svg>
                    Kreatif dan Dokumentasi
                </h3>
                <ul>
                    <li>Dokumentasi RAT dan kegiatan koperasi (video/foto)</li>
                    <li>Produksi media promosi koperasi</li>
                    <li>Pembuatan profil video koperasi</li>
                    <li>Desain grafis laporan tahunan koperasi</li>
                </ul>
                <button class="whatsapp-btn" data-service-name="Kreatif dan Dokumentasi">
                    <svg class="icon" viewBox="0 0 24 24">
                        <path d="M12.04 2.03c-5.47 0-9.91 4.44-9.91 9.91 0 1.75.46 3.45 1.32 4.95l-1.4 5.16 5.3-1.38c1.45.79 3.08 1.21 4.69 1.21 5.47 0 9.91-4.44 9.91-9.91s-4.44-9.91-9.91-9.91zm0 18.12c-1.47 0-2.93-.39-4.19-1.14l-.3-.18-3.15.82.84-3.08-.2-.32c-.82-1.32-1.25-2.85-1.25-4.47 0-4.54 3.7-8.24 8.24-8.24s8.24 3.7 8.24 8.24-3.7 8.24-8.24 8.24zm4.52-6.16c-.25-.13-.92-.46-1.06-.52-.15-.06-.25-.09-.36.09-.1.18-.39.52-.48.62-.1.1-.19.1-.35.05-.15-.06-1.06-.39-2.02-1.25-.75-.66-1.25-1.48-1.4-1.73-.15-.25-.02-.38.08-.48.09-.1.2-.25.3-.39.1-.15.05-.28-.02-.39-.06-.1-.36-.92-.49-1.22-.12-.3-.25-.25-.36-.25h-.35c-.1 0-.25.04-.39.18-.15.15-.58.58-.58 1.42 0 .84.6 1.64.69 1.76.09.13 1.15 1.76 2.79 2.45 1.64.69 1.64.46 1.94.41.3-.05.92-.38 1.05-.73.13-.35.13-.65.09-.73-.05-.09-.15-.13-.25-.18z"/>
                    </svg>
                    Hubungi Kami
                </button>
            </div>
        </div>
        <button class="slider-nav-btn next" id="slider-next-btn">&#10095;</button>
    </section>

    <!-- Konten Utama Blog -->
    <main>
        <!-- Bagian untuk menampilkan postingan blog -->
        <section id="posts-section" class="layout-standard">
            <!-- Postingan blog akan ditambahkan di sini secara dinamis oleh JavaScript -->
        </section>
        
        <!-- Sidebar dengan informasi tambahan -->
        <aside class="layout-standard">
            <h2>
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></svg>
                Tentang Saya
            </h2>
            <p>Selamat datang di blog saya! Saya senang berbagi pengetahuan dan pengalaman saya di sini.</p>
            
            <h2>
                <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 6H3"/><path d="M21 12H3"/><path d="M21 18H3"/></svg>
                Kategori
            </h2>
            <ul id="category-list">
                <!-- Kategori akan ditambahkan di sini secara dinamis oleh JavaScript -->
            </ul>
        </aside>
    </main>

    <!-- Modal untuk menampilkan postingan lengkap -->
    <div id="post-modal" class="modal-overlay">
        <div class="modal-content">
            <div class="modal-header">
                <!-- Kartu tanggal di dalam modal header -->
                <div class="post-date-card modal-date-card">
                    <span class="day" id="modal-date-day"></span>
                    <span class="month-year" id="modal-date-month-year"></span>
                </div>
                <h3 id="modal-post-title"></h3>
                <button class="modal-close-btn">&times;</button>
            </div>
            <div class="modal-body">
                <p id="modal-post-content"></p>
                <div id="modal-post-meta" class="modal-meta"></div>
                <div id="modal-post-category" class="modal-meta"></div>
            </div>
        </div>
    </div>

    <!-- Modal untuk Formulir Tambah Postingan -->
    <div id="add-post-modal-overlay" class="modal-overlay">
        <div id="add-post-modal-content" class="modal-content">
            <div class="modal-header">
                <h2 id="post-form-title">Buat Postingan Baru</h2>
                <button class="modal-close-btn add-post-modal-close-btn">&times;</button>
            </div>
            <form id="post-form">
                <label for="post-title">Judul Postingan:</label>
                <input type="text" id="post-title" required>
                
                <label for="post-date">Tanggal Publikasi:</label>
                <input type="date" id="post-date">

                <label for="post-category">Kategori:</label>
                <input type="text" id="post-category" placeholder="Contoh: Teknologi, Gaya Hidup">

                <label for="post-content">Konten Postingan:</label>
                <textarea id="post-content" required></textarea>
                
                <button type="submit" id="post-form-submit-btn">Publikasikan Postingan</button>
            </form>
            <div id="post-form-message" style="color: red; margin-top: 10px; text-align: center;"></div>
        </div>
    </div>

    <!-- Modal untuk Login Administrator -->
    <div id="login-modal-overlay" class="modal-overlay">
        <div id="login-modal-content" class="modal-content">
            <div class="modal-header">
                <h2>Login Administrator</h2>
                <button class="modal-close-btn login-modal-close-btn">&times;</button>
            </div>
            <form id="login-form">
                <label for="login-username">Username:</label>
                <input type="text" id="login-username" required>
                
                <label for="login-password">Password:</label>
                <input type="password" id="login-password" required>
                
                <button type="submit">Login</button>
            </form>
            <div id="login-message" style="color: red; margin-top: 10px; text-align: center;"></div>
        </div>
    </div>

    <!-- Modal untuk Tambah Anggota User (Admin Only) -->
    <div id="add-user-modal-overlay" class="modal-overlay">
        <div id="add-user-modal-content" class="modal-content">
            <div class="modal-header">
                <h2>Tambah Anggota User Baru</h2>
                <button class="modal-close-btn add-user-modal-close-btn">&times;</button>
            </div>
            <form id="add-user-form">
                <label for="new-username">Username Baru:</label>
                <input type="text" id="new-username" required>
                
                <label for="new-password">Password Baru:</label>
                <input type="password" id="new-password" required>
                
                <button type="submit">Daftarkan User</button>
            </form>
            <div id="add-user-message" style="color: green; margin-top: 10px; text-align: center;"></div>
        </div>
    </div>

    <!-- Modal untuk Edit Teks Berjalan (Admin Only) -->
    <div id="edit-running-text-modal-overlay" class="modal-overlay">
        <div id="edit-running-text-modal-content" class="modal-content">
            <div class="modal-header">
                <h2>Edit Teks Berjalan</h2>
                <button class="modal-close-btn edit-running-text-modal-close-btn">&times;</button>
            </div>
            <form id="edit-running-text-form">
                <label for="running-text-input">Konten Teks Berjalan:</label>
                <textarea id="running-text-input" rows="5" required></textarea>
                <button type="submit">Simpan Teks Berjalan</button>
            </form>
            <div id="edit-running-text-message" style="color: green; margin-top: 10px; text-align: center;"></div>
        </div>
    </div>

    <!-- Modal untuk Pengaturan Warna -->
    <div id="color-settings-modal-overlay" class="modal-overlay">
        <div id="color-settings-modal-content" class="modal-content">
            <div class="modal-header">
                <h2>Pengaturan Warna Website</h2>
                <button class="modal-close-btn color-settings-modal-close-btn">&times;</button>
            </div>
            <div class="theme-options">
                <button class="theme-button default-theme" data-theme="default">Tema Default</button>
                <button class="theme-button dark-theme" data-theme="dark">Tema Gelap</button>
                <button class="theme-button green-theme" data-theme="green">Tema Hijau</button>
                <button class="theme-button purple-theme" data-theme="purple">Tema Ungu</button>
            </div>
        </div>
    </div>

    <!-- Footer Blog -->
    <footer>
        <p>&copy; 2025 PT. Nusantara Project Konsultan. Hak Cipta Dilindungi.</p>
    </footer>

    <!-- Memanggil file Script.html menggunakan scriptlet Apps Script -->
    <script>
    // --- Modal Control Functions (GLOBAL) ---
    // Moved to global scope to ensure accessibility for all event listeners
    function showModal(overlayElement) {
        console.log(`Showing modal: ${overlayElement.id}`);
        overlayElement.style.display = 'flex'; // Make it visible immediately for layout
        // Use requestAnimationFrame to ensure display change is rendered before adding active class
        requestAnimationFrame(() => {
            overlayElement.classList.add('active');
        });
        document.body.style.overflow = 'hidden'; // Disable body scroll
    }

    function hideModal(overlayElement) {
        console.log(`Hiding modal: ${overlayElement.id}`);
        overlayElement.classList.remove('active');
        // Listen for the end of the transition before setting display to none
        const onTransitionEnd = () => {
            overlayElement.style.display = 'none';
            document.body.style.overflow = ''; // Re-enable body scroll
            overlayElement.removeEventListener('transitionend', onTransitionEnd);
        };
        overlayElement.addEventListener('transitionend', onTransitionEnd);
    }

    // Function to show login modal (GLOBAL)
    function showLoginModal() {
        console.log('Attempting to show login modal.');
        const loginModalOverlay = document.getElementById('login-modal-overlay');
        const loginMessage = document.getElementById('login-message');
        const loginForm = document.getElementById('login-form');

        showModal(loginModalOverlay);
        loginMessage.textContent = ''; // Clear previous messages
        loginForm.reset(); // Clear form fields
    }

    // Function to show a temporary message box
    function showMessageBox(message, type = 'info') {
        const box = document.createElement('div');
        box.textContent = message;
        box.style.position = 'fixed';
        box.style.top = '20px';
        box.style.right = '20px';
        box.style.padding = '15px 25px';
        box.style.borderRadius = '8px';
        box.style.color = 'white';
        box.style.zIndex = '9999';
        box.style.boxShadow = '0 4px 15px rgba(0,0,0,0.2)';
        box.style.opacity = '0';
        box.style.transition = 'opacity 0.3s ease';

        if (type === 'success') {
            box.style.backgroundColor = '#28a745';
        } else if (type === 'error') {
            box.style.backgroundColor = '#dc3545';
        } else {
            box.style.backgroundColor = '#17a2b8';
        }

        document.body.appendChild(box);

        // Fade in
        requestAnimationFrame(() => {
            box.style.opacity = '1';
        });

        // Fade out and remove after 3 seconds
        setTimeout(() => {
            box.style.opacity = '0';
            box.addEventListener('transitionend', () => {
                box.remove();
            });
        }, 3000);
    }


    document.addEventListener('DOMContentLoaded', () => {
        console.log('DOM Content Loaded - Script is running.'); // Log to confirm script execution
        try {
            const postsContainer = document.getElementById('posts-section');
            const asideSection = document.querySelector('aside');
            const addPostBtn = document.getElementById('add-post-btn');
            const addUserBtn = document.getElementById('add-user-btn');
            const editRunningTextBtn = document.getElementById('edit-running-text-btn'); // New button
            const postForm = document.getElementById('post-form');
            const postFormTitle = document.getElementById('post-form-title'); // New element
            const postFormSubmitBtn = document.getElementById('post-form-submit-btn'); // New element
            const postFormMessage = document.getElementById('post-form-message'); // New element
            const postTitleInput = document.getElementById('post-title');
            const postDateInput = document.getElementById('post-date');
            const postCategoryInput = document.getElementById('post-category');
            const postContentInput = document.getElementById('post-content');
            const layoutToggleButton = document.getElementById('layout-toggle-btn');
            const layoutBtnText = document.getElementById('layout-btn-text');
            const colorSettingsBtn = document.getElementById('color-settings-btn');
            const adminLoginBtn = document.getElementById('admin-login-btn');
            const adminLoginBtnText = adminLoginBtn.querySelector('span');
            const categoryList = document.getElementById('category-list');
            
            // Slider elements
            const servicesSliderTrack = document.getElementById('services-slider-track');
            const sliderPrevBtn = document.getElementById('slider-prev-btn');
            const sliderNextBtn = document.getElementById('slider-next-btn');
            let slideInterval;

            // Date and Time elements
            const currentDateTimeSpan = document.getElementById('current-date-time');
            const currentTimeSpan = document.getElementById('current-time');

            // Running Text elements
            const runningTextContentElement = document.getElementById('running-text-content');
            const editRunningTextModalOverlay = document.getElementById('edit-running-text-modal-overlay');
            const editRunningTextModalCloseBtn = document.querySelector('.edit-running-text-modal-close-btn');
            const editRunningTextForm = document.getElementById('edit-running-text-form');
            const runningTextInput = document.getElementById('running-text-input');
            const editRunningTextMessage = document.getElementById('edit-running-text-message');

            // Modal elements (for displaying full post)
            const postModal = document.getElementById('post-modal');
            const modalPostTitle = document.getElementById('modal-post-title');
            const modalPostContent = document.getElementById('modal-post-content');
            const modalPostMeta = document.getElementById('modal-post-meta');
            const modalPostCategory = document.getElementById('modal-post-category');
            const postModalCloseBtn = postModal.querySelector('.modal-close-btn');
            const modalDateDay = document.getElementById('modal-date-day');
            const modalDateMonthYear = document.getElementById('modal-date-month-year');
            
            // Add Post Modal elements
            const addPostModalOverlay = document.getElementById('add-post-modal-overlay');
            const addPostModalCloseBtn = document.querySelector('.add-post-modal-close-btn');

            // Login Modal elements
            const loginModalOverlay = document.getElementById('login-modal-overlay');
            const loginModalCloseBtn = document.querySelector('.login-modal-close-btn');
            const loginForm = document.getElementById('login-form');
            const loginUsernameInput = document.getElementById('login-username');
            const loginPasswordInput = document.getElementById('login-password');
            const loginMessage = document.getElementById('login-message');

            // Add User Modal elements
            const addUserModalOverlay = document.getElementById('add-user-modal-overlay');
            const addUserModalCloseBtn = document.querySelector('.add-user-modal-close-btn');
            const addUserForm = document.getElementById('add-user-form');
            const newUsernameInput = document.getElementById('new-username');
            const newPasswordInput = document.getElementById('new-password');
            const addUserMessage = document.getElementById('add-user-message');

            // Color Settings Modal elements
            const colorSettingsModalOverlay = document.getElementById('color-settings-modal-overlay');
            const colorSettingsModalCloseBtn = document.querySelector('.color-settings-modal-close-btn');
            const themeButtons = document.querySelectorAll('.theme-button');

            // --- Global State for Editing ---
            let editingPostId = null; // Stores the ID of the post being edited, null if adding new

            // --- Authentication and User Management ---
            const defaultAdmin = { username: 'admin', password: 'admin12345', role: 'admin' };
            const defaultUser = { username: 'user', password: 'password', role: 'user' };
            let users = JSON.parse(localStorage.getItem('appUsers')) || [defaultAdmin, defaultUser];
            let currentUser = JSON.parse(localStorage.getItem('currentUser')) || null;

            function saveUsers() {
                localStorage.setItem('appUsers', JSON.stringify(users));
            }

            function saveCurrentUser() {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
            }

            function updateUIBasedOnRole() {
                console.log('Updating UI based on role. Current user:', currentUser); // Log current user
                if (currentUser && currentUser.role === 'admin') {
                    addPostBtn.style.display = 'flex';
                    addUserBtn.style.display = 'flex';
                    editRunningTextBtn.style.display = 'flex'; // Show for admin
                    adminLoginBtnText.textContent = 'Logout (Admin)';
                    adminLoginBtn.classList.add('admin-logged-in');
                    // Show edit buttons on existing posts
                    document.querySelectorAll('.edit-post-btn').forEach(btn => btn.style.display = 'inline-block');
                } else if (currentUser && currentUser.role === 'user') {
                    addPostBtn.style.display = 'none';
                    addUserBtn.style.display = 'none';
                    editRunningTextBtn.style.display = 'none';
                    adminLoginBtnText.textContent = 'Logout (User)';
                    adminLoginBtn.classList.remove('admin-logged-in');
                    // Hide edit buttons on existing posts
                    document.querySelectorAll('.edit-post-btn').forEach(btn => btn.style.display = 'none');
                } else {
                    addPostBtn.style.display = 'none';
                    addUserBtn.style.display = 'none';
                    editRunningTextBtn.style.display = 'none';
                    adminLoginBtnText.textContent = 'Administrator';
                    adminLoginBtn.classList.remove('admin-logged-in');
                    // Hide edit buttons on existing posts
                    document.querySelectorAll('.edit-post-btn').forEach(btn => btn.style.display = 'none');
                }
            }

            adminLoginBtn.addEventListener('click', () => {
                console.log('Admin Login/Logout button clicked!');
                if (currentUser) {
                    currentUser = null;
                    saveCurrentUser();
                    updateUIBasedOnRole();
                    showMessageBox('Berhasil logout!', 'success');
                } else {
                    showLoginModal();
                }
            });

            loginForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const username = loginUsernameInput.value;
                const password = loginPasswordInput.value;

                const foundUser = users.find(u => u.username === username && u.password === password);

                if (foundUser) {
                    currentUser = foundUser;
                    saveCurrentUser();
                    updateUIBasedOnRole();
                    hideModal(loginModalOverlay);
                    showMessageBox(`Selamat datang, ${currentUser.username}!`, 'success');
                } else {
                    loginMessage.textContent = 'Username atau password salah!';
                    loginMessage.style.color = 'red';
                }
            });
            
            // Event Listeners for Login Modal Close
            loginModalCloseBtn.addEventListener('click', () => {
                hideModal(loginModalOverlay);
            });
            loginModalOverlay.addEventListener('click', (event) => {
                if (event.target === loginModalOverlay) {
                    hideModal(loginModalOverlay);
                }
            });

            addUserForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const newUsername = newUsernameInput.value;
                const newPassword = newPasswordInput.value;

                if (users.some(u => u.username === newUsername)) {
                    addUserMessage.textContent = 'Username sudah ada. Pilih username lain.';
                    addUserMessage.style.color = 'red';
                    return;
                }

                users.push({ username: newUsername, password: newPassword, role: 'user' });
                saveUsers();
                addUserMessage.textContent = `User '${newUsername}' berhasil ditambahkan!`;
                addUserMessage.style.color = 'green';
                addUserForm.reset();
                setTimeout(() => {
                    hideModal(addUserModalOverlay);
                    addUserMessage.textContent = '';
                }, 1500);
            });

            addUserBtn.addEventListener('click', () => {
                console.log('Tambah Anggota User button clicked!');
                if (currentUser && currentUser.role === 'admin') {
                    showModal(addUserModalOverlay);
                } else {
                    showMessageBox('Anda tidak memiliki izin untuk menambahkan pengguna.', 'error');
                }
            });

            // Event Listeners for Add User Modal Close
            addUserModalCloseBtn.addEventListener('click', () => {
                hideModal(addUserModalOverlay);
                addUserMessage.textContent = ''; // Clear message on close
            });
            addUserModalOverlay.addEventListener('click', (event) => {
                if (event.target === addUserModalOverlay) {
                    hideModal(addUserModalOverlay);
                    addUserMessage.textContent = ''; // Clear message on close
                }
            });


            // --- Running Text Management ---
            let currentRunningText = localStorage.getItem('runningText') || 'PT. Nusantara Project Konsultan | Melayani dengan Profesional dan Terpercaya | Kami Melayani Berbagai Jasa dan Konsultasi';

            function updateRunningTextDisplay() {
                runningTextContentElement.textContent = currentRunningText;
                runningTextContentElement.classList.remove('running-text-content');
                void runningTextContentElement.offsetWidth; // Trigger reflow
                runningTextContentElement.classList.add('running-text-content');
            }

            editRunningTextBtn.addEventListener('click', () => {
                console.log('Edit Teks Berjalan button clicked!');
                if (currentUser && currentUser.role === 'admin') {
                    runningTextInput.value = currentRunningText;
                    showModal(editRunningTextModalOverlay);
                } else {
                    showMessageBox('Anda tidak memiliki izin untuk mengedit teks berjalan.', 'error');
                }
            });

            editRunningTextForm.addEventListener('submit', (event) => {
                event.preventDefault();
                const newText = runningTextInput.value.trim();
                if (newText) {
                    currentRunningText = newText;
                    localStorage.setItem('runningText', newText);
                    updateRunningTextDisplay();
                    editRunningTextMessage.textContent = 'Teks berjalan berhasil diperbarui!';
                    editRunningTextMessage.style.color = 'green';
                    setTimeout(() => {
                        hideModal(editRunningTextModalOverlay);
                        editRunningTextMessage.textContent = '';
                    }, 1500);
                } else {
                    editRunningTextMessage.textContent = 'Teks berjalan tidak boleh kosong!';
                    editRunningTextMessage.style.color = 'red';
                }
            });

            editRunningTextModalCloseBtn.addEventListener('click', () => {
                hideModal(editRunningTextModalOverlay);
                editRunningTextMessage.textContent = '';
            });
            editRunningTextModalOverlay.addEventListener('click', (event) => {
                if (event.target === editRunningTextModalOverlay) {
                    hideModal(editRunningTextModalOverlay);
                    editRunningTextMessage.textContent = '';
                }
            });


            // Helper function to parse Indonesian date strings into a valid Date object
            function parseIndonesianDate(dateString) {
                const monthsMap = {
                    'Januari': 'January', 'Februari': 'February', 'Maret': 'March', 'April': 'April',
                    'Mei': 'May', 'Juni': 'June', 'Juli': 'July', 'Agustus': 'August',
                    'September': 'September', 'Oktober': 'October', 'November': 'November', 'Desember': 'December'
                };
                if (dateString.match(/^\d{4}-\d{2}-\d{2}$/)) {
                    return new Date(dateString + 'T00:00:00');
                }
                const parts = dateString.split(' ');
                if (parts.length !== 3) {
                    console.error('Format tanggal tidak valid:', dateString);
                    return new Date('Invalid Date');
                }
                const day = parts[0];
                const monthIndonesian = parts[1];
                const year = parts[2];
                const monthEnglish = monthsMap[monthIndonesian];
                if (!monthEnglish) {
                    console.error('Nama bulan Indonesia tidak dikenal:', monthIndonesian);
                    return new Date('Invalid Date');
                }
                const standardDateString = `${monthEnglish} ${day}, ${year}`;
                return new Date(standardDateString);
            }

            let blogPosts = JSON.parse(localStorage.getItem('blogPosts')) || [
                {
                    title: 'Memulai Perjalanan Belajar Bahasa Pemrograman Baru',
                    date: '18 Agustus 2025',
                    category: 'Edukasi',
                    content: 'Memulai belajar bahasa pemrograman baru adalah petualangan yang menarik dan bermanfaat. Langkah pertama adalah memilih bahasa yang sesuai dengan tujuan Anda. Untuk pengembangan web, HTML, CSS, dan JavaScript adalah fondasi yang tak tergantikan. HTML menyediakan struktur konten, CSS mengatur tampilan dan gaya, sedangkan JavaScript memberikan interaktivitas dinamis pada halaman web Anda.\\n\\nSetelah memilih bahasa, fokuslah pada konsep dasar seperti variabel, tipe data, struktur kontrol (kondisi dan perulangan), serta fungsi. Manfaatkan sumber belajar daring seperti tutorial interaktif, kursus daring (misalnya Coursera, Udemy, Codecademy), dan dokumentasi resmi. Jangan ragu untuk bergabung dengan komunitas daring seperti Stack Overflow atau forum developer untuk bertanya dan berbagi pengalaman.\\n\\nPraktek adalah kunci utama. Mulailah dengan proyek-proyek kecil yang sederhana, seperti membuat kalkulator dasar, daftar tugas, atau halaman profil pribadi. Seiring waktu, tingkatkan kompleksitas proyek Anda. Proyek-proyek ini tidak hanya akan memperkuat pemahaman Anda tetapi juga membangun portofolio yang dapat Anda tunjukkan kepada calon pemberi kerja.\\n\\nIngatlah bahwa belajar pemrograman adalah proses yang berkelanjutan. Dunia teknologi terus berkembang, jadi selalu ada hal baru untuk dipelajari. Nikmati setiap tantangannya, dan jangan takut membuat kesalahan‚Äîitu adalah bagian alami dari proses belajar. Konsisten dan teruslah bereksimen, dan Anda akan melihat kemajuan yang signifikan dalam perjalanan pemrograman Anda.'
                },
                {
                    title: '5 Destinasi Wisata Tersembunyi di Indonesia yang Wajib Dikunjungi',
                    date: '12 Agustus 2025',
                    category: 'Gaya Hidup',
                    content: 'Indonesia, dengan ribuan pulau dan kekayaan alamnya, menyimpan banyak surga tersembunyi yang belum banyak terekspos. Jika Anda mencari petualangan yang berbeda dari keramaian turis, berikut adalah 5 destinasi wisata tersembunyi yang wajib Anda kunjungi:\\n\\n1. **Pulau Belitung, Bangka Belitung**: Terkenal dengan formasi batu granit raksasa yang tersebar di pantainya, Belitung menawarkan keindahan pantai berpasir putih dan air laut jernih yang memukau. Kunjungi Pantai Tanjung Tinggi, Pulau Lengkuas dengan mercusuarnya, dan nikmati pesona bawah lautnya yang menawan. Suasana yang tenang dan pemandangan yang instagrammable menjadikan Belitung pilihan tepat untuk melarikan diri dari hiruk pikuk kota.\\n\\n2. **Kepulauan Derawan, Kalimantan Timur**: Gugusan pulau di lepas pantai Kalimantan Timur ini adalah surga bagi para penyelam dan pecinta kehidupan laut. Anda bisa berinteraksi dengan ubur-ubur tak menyengat di Danau Kakaban, berenang bersama penyu di Pulau Sangalaki, atau menjelajahi keindahan terumbu karang yang masih alami. Pesona bawah laut Derawan benar-benar memukau dan akan meninggalkan kesan mendalam.\\n\\n3. **Gunung Kelimutu, Flores, NTT**: Terletak di Ende, Flores, Gunung Kelimutu memiliki keunikan berupa tiga danau kawah dengan warna yang berbeda-beda, yang dapat berubah sewaktu-waktu. Danau Tiwu Ata Bupu (Danau Orang Tua), Tiwu Ko\\\'o Fai Nuwa Muri (Danau Muda-mudi), dan Tiwu Ata Polo (Danau Angker) menawarkan pemandangan magis saat matahari terbit. Perjalanan menuju puncak akan terbayar lunas dengan panorama alam yang luar biasa.\\n\\n4. **Pulau Weh, Aceh**: Terletak di ujung barat Indonesia, Pulau Weh atau Sabang adalah tempat di mana Nol Kilometer Indonesia berada. Pulau ini menawarkan keindahan bawah laut yang spektakuler dengan situs-situs penyelaman kelas dunia, seperti Iboih dan Gapang. Selain itu, Anda bisa bersantai di pantai-pantai yang tenang, menikmati kuliner laut segar, dan merasakan keramahan masyarakat Aceh.\\n\\n5. **Dataran Tinggi Dieng, Jawa Tengah**: Dikenal sebagai \\"Negeri di Atas Awan\\", Dieng menawarkan kombinasi keindahan alam, sejarah, dan budaya. Kunjungi kompleks Candi Arjuna, nikmati keindahan Telaga Warna yang memukau, atau saksikan fenomena golden sunrise dari Sikunir. Suasana dingin pegunungan dan kabut yang sering menyelimuti area ini menciptakan lanskap yang dramatis dan memukau.'
                },
                {
                    title: 'Pentingnya Berpikir Kritis di Era Informasi Digital',
                    date: '07 Agustus 2025',
                    category: 'Edukasi',
                    content: 'Di era digital yang serba cepat ini, informasi mengalir deras dari berbagai sumber, baik yang kredibel maupun yang tidak. Dalam kondisi seperti ini, **kemampuan berpikir kritis** menjadi sangat esensial. Berpikir kritis bukan hanya sekadar menganalisis informasi, melainkan melibatkan proses yang lebih dalam untuk mengevaluasi, menginterpretasi, dan membentuk penilaian yang rasional.\\n\\nSalah satu manfaat utama berpikir kritis adalah membantu kita memfilter informasi. Dengan begitu banyak berita palsu (hoax), disinformasi, dan opini yang menyamar sebagai fakta, kemampuan untuk membedakan mana yang benar dan mana yang menyesatkan adalah krusial. Ini melibatkan kemampuan untuk:\\n\\n* **Mengidentifikasi Bias**: Mengenali apakah ada prasangka atau sudut pandang tertentu yang memengaruhi penyampaian informasi.\\n* **Mengevaluasi Sumber**: Memeriksa kredibilitas dan keandalan sumber informasi, apakah itu media berita, penelitian ilmiah, atau platform media sosial.\\n* **Menganalisis Bukti**: Mempertimbangkan bukti yang disajikan, apakah itu kuat, relevan, dan mendukung klaim yang dibuat.\\n* **Mencari Perspektif Berbeda**: Tidak hanya bergantung pada satu sumber, tetapi mencari beragam pandangan untuk mendapatkan gambaran yang lebih lengkap.\\n\\nSelain itu, berpikir kritis juga meningkatkan kemampuan kita dalam memecahkan masalah. Dengan menganalisis situasi secara objektif dan mempertimbangkan berbagai solusi, kita dapat membuat keputusan yang lebih tepat dan efektif. Ini berlaku tidak hanya dalam konteks akademis atau profesional, tetapi juga dalam kehidupan sehari-hari.\\n\\nMelatih kemampuan berpikir kritis dapat dilakukan dengan berbagai cara, seperti sering bertanya \\"mengapa\\" dan \\"bagaimana\\", membaca dari berbagai sumber, berdiskusi dengan orang lain yang memiliki pandangan berbeda, dan secara aktif mencari kebenhan di balik setiap informasi yang diterima. Dengan demikian, kita dapat menjadi konsumen informasi yang lebih cerdas dan individu yang lebih reflektif dan mandiri dalam berpikir.'
                },
                {
                    title: 'Resep Makanan Sehat untuk Gaya Hidup Modern yang Sibuk',
                    date: '01 Agustus 2025',
                    category: 'Gaya Hidup',
                    content: 'Di tengah kesibukan gaya hidup modern, seringkali kita tergoda untuk memilih makanan cepat saji atau kurang sehat. Namun, menjaga pola makan yang seimbang dan bergizi adalah kunci untuk menjaga energi dan kesehatan secara keseluruhan. Membuat makanan sehat tidak harus rumit atau memakan waktu lama. Berikut adalah beberapa resep sederhana yang cocok untuk Anda yang sibuk:\\n\\n1. **Salad Quinoa dengan Ayam Panggang**: Ini adalah hidangan lengkap yang kaya protein dan serat. Rebus quinoa, panggang dada ayam, lalu campurkan dengan sayuran segar seperti mentimun, tomat ceri, paprika, dan sedikit alpukat. Tambahkan dressing ringan dari minyak zaitun, perasan lemon, dan sedikit bumbu. Resep ini sangat fleksibel dan bisa disiapkan dalam jumlah besar untuk beberapa porsi.\\n\\n2. **Smoothie Bowl Detoks Hijau**: Untuk sarapan cepat dan bergizi, smoothie bowl adalah pilihan yang sempurna. Blender bayam, pisang beku, sepotong kecil jahe, sedikit madu atau kurma, dan susu almond atau air kelapa hingga halus. Tuang ke mangkuk, lalu tambahkan topping seperti chia seed, irisan buah beri, atau granola rendah gula untuk tekstur dan nutrisi tambahan.\\n\\n3. **Pasta Gandum Utuh dengan Pesto Sayuran**: Gunakan pasta gandum utuh sebagai dasar untuk asupan serat yang lebih tinggi. Buat pesto sendiri dari bayam atau kale, kacang mete (pengganti kacang pinus), bawang putih, minyak zaitun, dan sedikit keju parmesan (opsional). Tumis beberapa sayuran seperti brokoli, jamur, dan wortir, lalu campurkan dengan pasta dan pesto. Ini adalah hidangan cepat, lezat, dan penuh nutrisi.\\n\\n4. **Sup Lentil Hangat**: Sup lentil adalah makanan yang menghangatkan, mengenyangkan, dan kaya serat serta protein nabati. Tumis bawang bombay, wortir, dan seledri, lalu tambahkan lentil, kaldu sayuran, dan bumbu seperti jintan, kunyit, dan paprika. Masak hingga lentil empuk. Sup ini bisa disimpan di kulkas dan dipanaskan kembali kapan saja.\\n\\n5. **Telur Dadar Sayuran dengan Roti Gandum**: Sarapan klasik ini sangat mudah disiapkan dan penuh nutrisi. Kocok telur dengan sedikit susu, tambahkan sayuran cincang seperti paprika, bawang bombay, atau jamur. Masak di wajan anti lengket. Sajikan dengan selembar roti gandum utuh yang dipanggang dan irisan alpukat. Ini adalah cara cepat untuk mendapatkan protein dan serat di pagi hari.\\n\\nDengan sedikit perencanaan, makan sehat bisa menjadi bagian mudah dari gaya hidup sibuk Anda. Selamat mencoba!'
                }
            ];

            // --- Slider Autoplay and Navigation ---
            function startSlideShow() {
                clearInterval(slideInterval);
                slideInterval = setInterval(() => {
                    const currentScrollLeft = servicesSliderTrack.scrollLeft;
                    const scrollWidth = servicesSliderTrack.scrollWidth;
                    const clientWidth = servicesSliderTrack.clientWidth;
                    const firstCard = servicesSliderTrack.querySelector('.slider-card');
                    const cardWidth = firstCard ? firstCard.offsetWidth + 20 : 320;

                    if (currentScrollLeft + clientWidth >= scrollWidth) {
                        servicesSliderTrack.scrollLeft = 0;
                    } else {
                        servicesSliderTrack.scrollLeft += cardWidth;
                    }
                }, 3000);
            }

            function stopSlideShow() {
                clearInterval(slideInterval);
            }

            sliderPrevBtn.addEventListener('click', () => {
                console.log('Slider Prev button clicked!');
                const firstCard = servicesSliderTrack.querySelector('.slider-card');
                const cardWidth = firstCard ? firstCard.offsetWidth + 20 : 320;
                servicesSliderTrack.scrollLeft -= cardWidth;
                stopSlideShow();
                startSlideShow();
            });

            sliderNextBtn.addEventListener('click', () => {
                console.log('Slider Next button clicked!');
                const firstCard = servicesSliderTrack.querySelector('.slider-card');
                const cardWidth = firstCard ? firstCard.offsetWidth + 20 : 320;
                servicesSliderTrack.scrollLeft += cardWidth;
                stopSlideShow();
                startSlideShow();
            });

            servicesSliderTrack.addEventListener('mouseenter', stopSlideShow);
            servicesSliderTrack.addEventListener('mouseleave', startSlideShow);

            // --- Real-time Date and Time Update ---
            function updateDateTime() {
                const now = new Date();
                const optionsDate = { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric' };
                const formattedDate = now.toLocaleDateString('id-ID', optionsDate);
                const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
                const formattedTime = now.toLocaleTimeString('id-ID', optionsTime);
                
                currentDateTimeSpan.textContent = formattedDate;
                currentTimeSpan.textContent = `${formattedTime} WIB`;
            }

            // Fungsi untuk menghitung jumlah postingan per kategori
            function countCategories() {
                const categoryCounts = {};
                blogPosts.forEach(post => {
                    const category = (post.category || 'Lain-lain').trim();
                    categoryCounts[category] = (categoryCounts[category] || 0) + 1;
                });
                return categoryCounts;
            }

            // Fungsi untuk merender daftar kategori di sidebar
            function renderCategories() {
                const counts = countCategories();
                categoryList.innerHTML = '';
                for (const category in counts) {
                    const listItem = document.createElement('li');
                    listItem.innerHTML = `<a href="#">${category} <span class="category-count">${counts[category]}</span></a>`;
                    categoryList.appendChild(listItem);
                }
            }

            // Fungsi untuk merender postingan ke halaman
            function renderPosts() {
                postsContainer.innerHTML = '';
                
                blogPosts = blogPosts.map((post, index) => ({ ...post, id: post.id || `post-${Date.now()}-${index}` }));

                blogPosts.forEach(post => {
                    const postElement = document.createElement('article');
                    postElement.classList.add('post');
                    postElement.dataset.postId = post.id;

                    const dateObj = parseIndonesianDate(post.date);
                    
                    let displayDay, displayMonthYear, displayDateMeta;
                    if (isNaN(dateObj.getTime())) {
                        console.error("Gagal mengurai tanggal untuk postingan:", post.title, post.date);
                        displayDay = '--';
                        displayMonthYear = 'Tanggal<br>Tidak Valid';
                        displayDateMeta = 'Tanggal Tidak Valid';
                    } else {
                        displayDay = dateObj.getDate();
                        displayMonthYear = `${dateObj.toLocaleString('id-ID', { month: 'long' })}<br>${dateObj.getFullYear()}`;
                        displayDateMeta = post.date;
                    }

                    const truncatedContent = post.content.substring(0, 200) + (post.content.length > 200 ? '...' : '');
                    
                    postElement.innerHTML = `
                        <div class="post-date-card">
                            <span class="day">${displayDay}</span>
                            <span class="month-year">${displayMonthYear}</span>
                        </div>
                        <h3>${post.title}</h3>
                        <div class="post-meta">Dipublikasikan pada ${displayDateMeta}</div>
                        <p>${truncatedContent}</p>
                        <div class="post-actions">
                            ${post.content.length > 200 ? `<button class="read-more-btn" data-post-id="${post.id}">Baca Selengkapnya</button>` : ''}
                            <button class="edit-post-btn" data-post-id="${post.id}" style="display: ${currentUser && currentUser.role === 'admin' ? 'inline-block' : 'none'};">Edit Postingan</button>
                        </div>
                    `;
                    
                    postsContainer.appendChild(postElement);
                });

                // Attach event listeners for Read More buttons
                document.querySelectorAll('.read-more-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const postId = event.target.dataset.postId;
                        const post = blogPosts.find(p => p.id === postId);
                        if (post) {
                            showPostModal(post);
                        }
                    });
                });

                // Attach event listeners for Edit Post buttons
                document.querySelectorAll('.edit-post-btn').forEach(button => {
                    button.addEventListener('click', (event) => {
                        const postId = event.target.dataset.postId;
                        const post = blogPosts.find(p => p.id === postId);
                        if (post) {
                            showEditPostModal(post);
                        }
                    });
                });

                renderCategories();
                updateUIBasedOnRole(); // Ensure edit buttons visibility is correct after rendering
            }

            function showPostModal(post) {
                modalPostTitle.textContent = post.title;
                modalPostContent.textContent = post.content;

                const dateObj = parseIndonesianDate(post.date);

                if (isNaN(dateObj.getTime())) {
                    modalDateDay.textContent = '--';
                    modalDateMonthYear.textContent = 'Tanggal\nTidak Valid';
                    modalPostMeta.textContent = `Dipublikasikan pada Tanggal Tidak Valid`;
                } else {
                    modalDateDay.textContent = dateObj.getDate();
                    modalDateMonthYear.textContent = `${dateObj.toLocaleString('id-ID', { month: 'long' })} ${dateObj.getFullYear()}`;
                    modalPostMeta.textContent = `Dipublikasikan pada ${post.date}`;
                }
                modalPostCategory.textContent = `Kategori: ${post.category || 'Lain-lain'}`;

                showModal(postModal);
            }

            function hidePostModal() {
                hideModal(postModal);
            }

            postModalCloseBtn.addEventListener('click', hidePostModal);
            postModal.addEventListener('click', (event) => {
                if (event.target === postModal) {
                    hideModal(postModal);
                }
            });

            function showAddPostModal() {
                editingPostId = null; // Reset editing state
                postFormTitle.textContent = 'Buat Postingan Baru';
                postFormSubmitBtn.textContent = 'Publikasikan Postingan';
                postFormMessage.textContent = ''; // Clear any previous message
                postForm.reset();
                const today = new Date();
                const year = today.getFullYear();
                const month = String(today.getMonth() + 1).padStart(2, '0');
                const day = String(today.getDate()).padStart(2, '0');
                postDateInput.value = `${year}-${month}-${day}`;
                showModal(addPostModalOverlay);
            }

            function showEditPostModal(post) {
                editingPostId = post.id; // Set editing state
                postFormTitle.textContent = 'Edit Postingan';
                postFormSubmitBtn.textContent = 'Simpan Perubahan';
                postFormMessage.textContent = ''; // Clear any previous message

                postTitleInput.value = post.title;
                postContentInput.value = post.content;
                postCategoryInput.value = post.category || '';

                // Convert Indonesian date string to YYYY-MM-DD for date input
                const dateObj = parseIndonesianDate(post.date);
                if (!isNaN(dateObj.getTime())) {
                    const year = dateObj.getFullYear();
                    const month = String(dateObj.getMonth() + 1).padStart(2, '0');
                    const day = String(dateObj.getDate()).padStart(2, '0');
                    postDateInput.value = `${year}-${month}-${day}`;
                } else {
                    postDateInput.value = ''; // Clear if date is invalid
                }
                
                showModal(addPostModalOverlay);
            }

            function hideAddPostModal() {
                hideModal(addPostModalOverlay);
                postForm.reset();
                editingPostId = null; // Clear editing state after closing
            }

            addPostBtn.addEventListener('click', showAddPostModal);

            addPostModalCloseBtn.addEventListener('click', hideAddPostModal);
            addPostModalOverlay.addEventListener('click', (event) => {
                if (event.target === addPostModalOverlay) {
                    hideAddPostModal();
                }
            });

            postForm.addEventListener('submit', (event) => {
                event.preventDefault();
                
                const title = postTitleInput.value.trim();
                const content = postContentInput.value.trim();
                const rawDate = postDateInput.value;
                const category = postCategoryInput.value.trim() || 'Lain-lain';

                let postDateString;
                if (rawDate) {
                    const tempDate = new Date(rawDate + 'T00:00:00');
                    if (!isNaN(tempDate.getTime())) {
                        postDateString = tempDate.toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' });
                    } else {
                        postDateString = new Date().toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' });
                    }
                } else {
                    postDateString = new Date().toLocaleDateString('id-ID', { year: 'numeric', month: 'long', day: 'numeric' });
                }

                if (title && content) {
                    if (editingPostId) {
                        // Edit existing post
                        const postIndex = blogPosts.findIndex(p => p.id === editingPostId);
                        if (postIndex !== -1) {
                            blogPosts[postIndex].title = title;
                            blogPosts[postIndex].content = content;
                            blogPosts[postIndex].date = postDateString;
                            blogPosts[postIndex].category = category;
                            postFormMessage.textContent = 'Postingan berhasil diperbarui!';
                            postFormMessage.style.color = 'green';
                        }
                    } else {
                        // Add new post
                        const newPost = {
                            id: `post-${Date.now()}`,
                            title: title,
                            date: postDateString,
                            category: category,
                            content: content
                        };
                        blogPosts.unshift(newPost);
                        postFormMessage.textContent = 'Postingan berhasil dipublikasikan!';
                        postFormMessage.style.color = 'green';
                    }
                    
                    localStorage.setItem('blogPosts', JSON.stringify(blogPosts));
                    renderPosts();
                    
                    setTimeout(() => {
                        hideAddPostModal();
                        postsContainer.scrollIntoView({ behavior: 'smooth', block: 'start' });
                    }, 1500); // Hide after a short delay
                } else {
                    postFormMessage.textContent = 'Harap lengkapi semua bidang (judul dan konten) untuk postingan Anda.';
                    postFormMessage.style.color = 'red';
                }
            });

            let currentLayout = 'standard';
            layoutToggleButton.addEventListener('click', () => {
                console.log('Ubah Tata Letak button clicked!');
                if (currentLayout === 'standard') {
                    setLayout('wide');
                    currentLayout = 'wide';
                    layoutBtnText.textContent = 'Layout Standar';
                } else {
                    setLayout('standard');
                    currentLayout = 'standard';
                    layoutBtnText.textContent = 'Layout Lebar';
                }
            });

            function setLayout(layoutType) {
                if (layoutType === 'standard') {
                    postsContainer.classList.remove('layout-wide');
                    postsContainer.classList.add('layout-standard');
                    asideSection.classList.remove('layout-wide');
                    asideSection.classList.add('layout-standard');
                    asideSection.style.display = 'flex';
                } else if (layoutType === 'wide') {
                    postsContainer.classList.remove('layout-standard');
                    postsContainer.classList.add('layout-wide');
                    asideSection.classList.remove('layout-standard');
                    asideSection.classList.add('layout-wide');
                }
            }

            const themes = {
                default: {
                    '--primary-color': '#007bff', '--secondary-color': '#6c757d', '--background-color': '#f8f9fa',
                    '--text-color': '#212529', '--header-bg-start': '#0056b3', '--header-bg-end': '#007bff',
                    '--card-base-bg': '#fff', '--post-border-color': '#e9ecef', '--post-meta-border-color': '#dee2e6',
                    '--jasa-card-h3-border-color': 'rgba(0,0,0,0.1)', '--footer-bg': '#343a40', '--footer-text-color': '#e9ecef',
                    '--slider-card-1-bg': '#e6f7ff', '--slider-card-2-bg': '#e6ffe6', '--slider-card-3-bg': '#fffbe6',
                    '--slider-card-4-bg': '#f2e6ff', '--slider-card-5-bg': '#ffe6f2', '--slider-card-6-bg': '#e0f2f7',
                    '--slider-card-7-bg': '#f0fff0', '--slider-card-8-bg': '#fff0e0', '--slider-card-9-bg': '#e6e6fa'
                },
                dark: {
                    '--primary-color': '#6f42c1', '--secondary-color': '#adb5bd', '--background-color': '#212529',
                    '--text-color': '#f8f9fa', '--header-bg-start': '#343a40', '--header-bg-end': '#495057',
                    '--card-base-bg': '#2c3034', '--post-border-color': '#495057', '--post-meta-border-color': '#6c757d',
                    '--jasa-card-h3-border-color': 'rgba(255,255,255,0.2)', '--footer-bg': '#1a1d20', '--footer-text-color': '#ced4da',
                    '--slider-card-1-bg': '#4a505c', '--slider-card-2-bg': '#5c4a50', '--slider-card-3-bg': '#4a5c50',
                    '--slider-card-4-bg': '#504a5c', '--slider-card-5-bg': '#5c504a', '--slider-card-6-bg': '#4a5c5c',
                    '--slider-card-7-bg': '#5c4a4a', '--slider-card-8-bg': '#4a4a5c', '--slider-card-9-bg': '#505c4a'
                },
                green: {
                    '--primary-color': '#28a745', '--secondary-color': '#6c757d', '--background-color': '#e9ffe9',
                    '--text-color': '#2f4f4f', '--header-bg-start': '#1e7e34', '--header-bg-end': '#28a745',
                    '--card-base-bg': '#f3fff3', '--post-border-color': '#c3e6cb', '--post-meta-border-color': '#88b894',
                    '--jasa-card-h3-border-color': 'rgba(0,0,0,0.1)', '--footer-bg': '#1e7e34', '--footer-text-color': '#e9ffe9',
                    '--slider-card-1-bg': '#f0fff0', '--slider-card-2-bg': '#e0ffe0', '--slider-card-3-bg': '#d0ffb0',
                    '--slider-card-4-bg': '#c0ff90', '--slider-card-5-bg': '#b0ff80', '--slider-card-6-bg': '#a0ff70',
                    '--slider-card-7-bg': '#90ff60', '--slider-card-8-bg': '#80ff50', '--slider-card-9-bg': '#70ff40'
                },
                purple: {
                    '--primary-color': '#6f42c1', '--secondary-color': '#adb5bd', '--background-color': '#f8f0ff',
                    '--text-color': '#3a0050', '--header-bg-start': '#563d7c', '--header-bg-end': '#6f42c1',
                    '--card-base-bg': '#fcf5ff', '--post-border-color': '#dcbefc', '--post-meta-border-color': '#a785da',
                    '--jasa-card-h3-border-color': 'rgba(0,0,0,0.1)', '--footer-bg': '#4b2e7c', '--footer-text-color': '#f8f0ff',
                    '--slider-card-1-bg': '#f2e6ff', '--slider-card-2-bg': '#f7e0ff', '--slider-card-3-bg': '#fcedff',
                    '--slider-card-4-bg': '#fae6ff', '--slider-card-5-bg': '#fff0ff', '--slider-card-6-bg': '#ffe6ff',
                    '--slider-card-7-bg': '#fcf2ff', '--slider-card-8-bg': '#e9d6ff', '--slider-card-9-bg': '#e0c0ff'
                }
            };

            function applyTheme(themeName) {
                const theme = themes[themeName];
                for (const property in theme) {
                    document.documentElement.style.setProperty(property, theme[property]);
                }
                localStorage.setItem('selectedTheme', themeName);
            }

            const savedTheme = localStorage.getItem('selectedTheme') || 'default';
            applyTheme(savedTheme);

            function showColorSettingsModal() {
                console.log('Pengaturan Warna button clicked!');
                showModal(colorSettingsModalOverlay);
            }

            function hideColorSettingsModal() {
                hideModal(colorSettingsModalOverlay);
            }

            colorSettingsBtn.addEventListener('click', showColorSettingsModal);
            colorSettingsModalCloseBtn.addEventListener('click', hideColorSettingsModal);
            colorSettingsModalOverlay.addEventListener('click', (event) => {
                if (event.target === colorSettingsModalOverlay) {
                    hideColorSettingsModal();
                }
            });

            themeButtons.forEach(button => {
                button.addEventListener('click', (event) => {
                    const themeName = event.target.dataset.theme;
                    applyTheme(themeName);
                    renderPosts();
                    hideColorSettingsModal();
                });
            });

            // Initial calls
            renderPosts();
            setLayout(currentLayout);
            layoutBtnText.textContent = currentLayout === 'standard' ? 'Layout Lebar' : 'Layout Standar';
            updateUIBasedOnRole();
            startSlideShow();
            setInterval(updateDateTime, 1000);
            updateDateTime();
            updateRunningTextDisplay(); // Initial display of running text
        } catch (error) {
            console.error("An error occurred during script initialization:", error);
            // Menampilkan pesan yang lebih ramah pengguna jika ada kesalahan fatal
            showMessageBox("Terjadi kesalahan saat memuat aplikasi. Silakan coba lagi. Lihat konsol browser untuk detail.", "error");
        }
    });
</script>
</body>
</html>
